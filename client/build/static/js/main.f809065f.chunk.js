(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{139:function(e,t,a){e.exports=a.p+"static/media/logo.f02baa80.jpg"},141:function(e,t,a){e.exports=a(323)},146:function(e,t,a){},323:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(20),i=a.n(c),l=(a(146),a(10)),o=a(8),s=a(12),u=a(11),m=a(7),p=a(14),h=a(5),d=a(24),g=a(25),b=a.n(g),f=a(42),v=(a(72),a(79)),E=a(21),k=(a(299),a(73),Object(d.withOktaAuth)(function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).login=n.login.bind(Object(p.a)(n)),n.logout=n.logout.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"login",value:function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.authService.login("/Recipes");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.authService.logout("/");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(this.props.authState.isPending)return null;var e=this.props.authState.isAuthenticated?r.a.createElement("button",{className:"stdBtn ",onClick:this.logout},"Logout"):r.a.createElement("button",{className:"stdBtn",onClick:this.login},"Login");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"carousel"},r.a.createElement("h1",null,"Welcome Folks!"),r.a.createElement("p",null,"Please sign up to view available recipes. If already a member, please log in."),r.a.createElement("br",null),r.a.createElement("div",{class:"logbtn"},r.a.createElement(v.b,{className:"button",href:"/login"},"Login")),r.a.createElement("br",null),r.a.createElement("div",{class:"signbtn"},r.a.createElement(v.b,{className:"button",href:"/signup"},"Sign Up")),r.a.createElement("div",{class:"container"},r.a.createElement(E.c,{naturalSlideWidth:100,naturalSlideHeight:40,totalSlides:5},r.a.createElement(E.e,null,r.a.createElement(E.d,{index:0},r.a.createElement("img",{src:"https://i.imgur.com/6Q6JyhA.jpg",class:"mySlides",alt:"nachos",width:"300",height:"500px"}),r.a.createElement("div",{class:"text"}," Beef and Chicken Fajita Nachos")),r.a.createElement(E.d,{index:1},r.a.createElement("img",{src:"https://i.imgur.com/FcZ6xe0.jpg",class:"mySlides",alt:"ribs",width:"300",height:"500px"}),r.a.createElement("div",{class:"text"},"Honey Cajun Style Pork Ribs")),r.a.createElement(E.d,{index:2},r.a.createElement("img",{src:"https://i.imgur.com/P9yBoXl.jpg",class:"mySlides",alt:"sopapilla",width:"300",height:"500px"}),r.a.createElement("div",{class:"text"},"Handmade Sopapilla")),r.a.createElement(E.d,{index:3},r.a.createElement("img",{src:"https://i.imgur.com/aGy5cEr.jpg",class:"mySlides",alt:"pizza quesadilla",width:"300",height:"500px"}),r.a.createElement("div",{class:"text"},"Pizza Quesadilla")),r.a.createElement(E.d,{index:4},r.a.createElement("img",{src:"https://i.imgur.com/FySafd2.png",class:"mySlides",alt:"Smoked Dr Pepper ham",width:"300",height:"500px"}),r.a.createElement("div",{class:"text"},"Smoked Dr Pepper Ham"))),r.a.createElement(E.a,null,"Back"),r.a.createElement(E.b,null,"Next")))),r.a.createElement("div",null,r.a.createElement(m.Link,{to:"/"},"Home"),r.a.createElement("br",null),r.a.createElement(m.Link,{to:"/Recipes"},"Recipes"),r.a.createElement("br",null),e))}}]),a}(n.Component))),j=a(138),O=a.n(j),y=(a(306),a(139)),S=a.n(y),w=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=i.a.findDOMNode(this);this.widget=new O.a({baseUrl:this.props.baseUrl,logo:S.a}),this.widget.renderEl({el:e},this.props.onSuccess,this.props.onError)}},{key:"componentWillUnmount",value:function(){this.widget.remove()}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),a}(n.Component),N=Object(d.withOktaAuth)(function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onSuccess=n.onSuccess.bind(Object(p.a)(n)),n.onError=n.onError.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"onSuccess",value:function(e){if("SUCCESS"===e.status)return this.props.authService.redirect({sessionToken:e.session.token})}},{key:"onError",value:function(e){console.log("error logging in",e)}},{key:"render",value:function(){return this.props.authState.isPending?null:this.props.authState.isAuthenticated?r.a.createElement(h.c,{to:{pathname:"/"}}):r.a.createElement(w,{baseUrl:this.props.baseUrl,onSuccess:this.onSuccess,onError:this.onError})}}]),a}(n.Component)),x=a(30),C=a.n(x),U=function(e){return C.a.post("/search",{title:e})},R=a(36),A=a(327),L=function(e){return e.ingredients.map((function(e){return r.a.createElement("ul",{key:Object(A.a)(),className:"ingredient-list"},r.a.createElement("li",{className:"ingredient-text"},e.text),r.a.createElement("li",{className:"ingredient-weight"},"weight-",e.weight))}))},D=function(e){var t=e.recipe,a=Object(n.useState)(!1),c=Object(R.a)(a,2),i=c[0],l=c[1],o=t.recipe,s=o.label,u=o.image,m=o.url,p=o.ingredients;return r.a.createElement("div",{className:"recipe"},r.a.createElement("h2",null,s),r.a.createElement("img",{src:u,alt:s}),r.a.createElement("a",{href:m,target:"-blank",rel:"noopener  noreferrer"},"URL"),r.a.createElement("button",{onClick:function(){return l(!i)}},"Ingredients"),i&&r.a.createElement(L,{ingredients:p}))},I=function(e){var t=e.alert;return r.a.createElement("div",{className:"alert"},r.a.createElement("h3",null,t))},F=function(){var e=Object(n.useState)(""),t=Object(R.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),l=Object(R.a)(i,2),o=l[0],s=l[1],u=Object(n.useState)(""),m=Object(R.a)(u,2),p=m[0],h=m[1],d="https://api.edamam.com/search?q=".concat(a,"&app_id=").concat("ca253be7","&app_key=").concat("3aae923868ef77dd3110514cc501e886"),g=function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===a){e.next=12;break}return e.next=3,C.a.get(d);case 3:if((t=e.sent).data.more){e.next=6;break}return e.abrupt("return",h("Thats not a food guy!"));case 6:s(t.data.hits),console.log(t),h(""),c(""),e.next=13;break;case 12:h("Come on Im hungry!!!");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Gourmet Recipe Search"),r.a.createElement("form",{className:"search-from",onSubmit:function(e){e.preventDefault(),g()}},""!==p&&r.a.createElement(I,{alert:p}),r.a.createElement("input",{type:"text",placeholder:"What ya feel like cooking?",autoComplete:"off",onChange:function(e){c(e.target.value)},value:a}),r.a.createElement("input",{type:"submit",value:"search"})),r.a.createElement("div",{className:"recipes"},o!==[]&&o.map((function(e){return r.a.createElement(D,{key:Object(A.a)(),recipe:e})}))))},W=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark mb-4"},r.a.createElement("div",{className:"container"},r.a.createElement(m.Link,{className:"navbar-brand",to:"/"},"Gourmet Recipes"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.Link,{className:"nav-link",to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.Link,{className:"nav-link",to:"/login"},"Newsfeed"))))))}}]),a}(n.Component),B=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={currentUsername:"",currentUserEmail:""},n.state={recipeInput:"",recipeData:[]},n.handleSearchClick=n.handleSearchClick.bind(Object(p.a)(n)),n.handleFormChange=n.handleFormChange.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("okta-token-storage"));this.setState({currentUserEmail:e.idToken.claims.email,currentUserName:e.idToken.claims.name})}}]),Object(o.a)(a,[{key:"handleFormChange",value:function(e){e.preventDefault(),this.setState({recipeInput:e.target.value})}},{key:"handleSearchClick",value:function(e){var t=this;e.preventDefault(),U(this.state.recipeInput).then((function(e){t.setState({recipeData:e.data}),t.setState({recipeInput:""})}))}},{key:"render",value:function(){var e=this.state,t=e.currentUserEmail,a=e.currentUserName;return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome ",a),r.a.createElement("p",null,"Email: ",t),r.a.createElement("p",null,"You have reached your news feed! Search your recipe!")),r.a.createElement(F,null))}}]),a}(r.a.Component),P=Object(h.o)(function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onAuthRequired=n.onAuthRequired.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"onAuthRequired",value:function(){this.props.history.push("/login")}},{key:"render",value:function(){return r.a.createElement(d.Security,{issuer:"https://dev-781909.okta.com/oauth2/default",clientId:"0oa1195gipJZlUspx4x7",redirectUri:window.location.origin+"/implicit/callback",onAuthRequired:this.onAuthRequired},r.a.createElement(h.d,{path:"/",exact:!0,component:k}),r.a.createElement(d.SecureRoute,{path:"/Recipes",component:B}),r.a.createElement(h.d,{path:"/login",render:function(){return r.a.createElement(N,{baseUrl:"https://dev-781909.okta.com"})}}),r.a.createElement(h.d,{path:"/implicit/callback",component:d.LoginCallback}))}}]),a}(n.Component)),q=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(m.BrowserRouter,null,r.a.createElement(P,null))}}]),a}(n.Component),H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(q,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");H?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):J(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):J(e)}))}}()},73:function(e,t,a){}},[[141,1,2]]]);
//# sourceMappingURL=main.f809065f.chunk.js.map